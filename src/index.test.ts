import iterate, { algorithms } from './index';

test('iterate', () => {
    expect(
        iterate(20, algorithms.MA, {
            Z: { re: 0, im: 0 },
            C: { re: -0.1, im: 1 },
            exp: 2,
        }),
    ).toEqual({
        reValues: [-0.1, -1.09, 0.44810000000000005, -0.45274239000000027, -0.006064695116927352, -0.5875411988092448, -0.7379279469120577, 0.4172697501364495, -1.4726956175587498, -2.0842997168963078, -20.78052032569973, -45.838593368231734, -820997.3016314987, 667118502591.356, 4.263949767359293e+23, 1.4860838920784704e+47, -2.0633877621178097e+93, -2.1289099118146777e+189, Infinity],
        imValues: [1, 0.8, -0.7440000000000002, 0.3332271999999996, 0.6982678421179842, 0.9915304368551991, -0.16512996305151573, 1.243708029216538, 2.037923477187762, -5.002481947549012, 21.853343414110597, -907.2476940028433, 83174.91625932454, -136572763623.66267, -1.8222043512676262e+23, -1.5539575639337374e+47, -4.618622609470853e+94, 1.9060018740445563e+188, Infinity]
    });
});


test('iterate MB', () => {
    expect(
        iterate(20, algorithms.MB, {
            Z: { re: 0, im: 0 },
            C: { re: -0.1, im: 1 },
            exp: 56,
        }),
    ).toEqual({
        reValues: [1.0090958030229507, -9745896.02427069, -242738383145.33514, -863120692710646.8, 342072944350725200, 8301044833305045000, 350372536259887000000, 3.388051655421937e+21, -4.299296714395208e+22, 5.434557045593016e+23, 2.6119108669989057e+24, -1.6861599556075953e+25, -2.36506895097364e+26, -1.6530981543831378e+27, 1.3733665278727808e+27, 6.35593348453648e+28, -1.3578529356239076e+28, -2.1679270744152422e+29, 1.0948825445934259e+30, -1.6363646913224105e+30],
        imValues: [-0.8529569036759017, 8237898.989874255, 689898602528.8905, 729568740002279.6, -189505442685068380, 9426430601288454000, 214253921079344860000, -6.439627526916259e+21, 2.2563230414670435e+22, -8.695335070530113e+23, 3.373783426621184e+24, 2.5105438338515156e+25, 1.2894484355205896e+26, 1.5776025207150594e+27, 1.480503353100396e+28, 5.199194653128498e+27, -1.6311694475130293e+29, 9.881766896793522e+28, 4.914633517736356e+29, -2.33986080911044e+30]
    });
});


test('iterate MC', () => {
    expect(
        iterate(20, algorithms.MC, {
            Z: { re: 0, im: 0 },
            C: { re: -0.1, im: 1 },
            exp: 56,
        }),
    ).toEqual({
        reValues: [1.0090958030229507, -31850791.199559655, 91556291638.86006, -119745878160011.77, -9873967778812300, 133370878219281540, -40145790368962630000, 34074990349960913000, -143011214782464100000, -8.061566947359465e+22, -1.0827182672346837e+23, 1.0081938717685898e+24, -9.788217601235215e+24, 2.3166183283207015e+25, -2.8681387838118424e+25, -2.173532277667664e+26, 4.619961693518605e+26, 2.898287562093436e+27, 8.40752942936132e+27, 4.0180311928700135e+28],
        imValues: [-0.8529569036759017, -4189691.8994105994, -163241436649.92926, 187855928694855.12, 5648277510743490, 320578662774358700, -23592189421450110000, -613871254969591100000, -8.911693813278387e+21, -4.152910726941853e+22, 4.690970189534329e+23, -5.0273688838183176e+23, 2.5953425181790675e+24, -1.4050902649247805e+25, 1.72027047594982e+26, -1.388785051072418e+26, -5.404830891116986e+26, 1.1980372941632905e+27, 1.607672379279117e+28, 1.0518264877824757e+29]
    });
});

